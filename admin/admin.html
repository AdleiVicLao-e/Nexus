<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Page</title>
    <link rel="stylesheet" href="../res/css/adminStyle.css">
    <script src="../res/js/javascript.js"></script>
</head>

<body>
    <header>
        <div class="logo">
            <img src="slu-logo.png" alt="Saint Louis University Logo">
            Museum of Igorot Culture and Arts - Admin Dashboard
        </div>

        <div class="greetings">
            <img src="user-image.png" alt="User Icon">
            <div class="greeting">
                <div class="curator">Hi, Curator!</div>
                <nav><a href="#home">Logout</a></nav>
            </div>
        </div>
    </header>

    <div class="main-container">
        <div class="left-container">
            <div class="analytics">
                Visitor analytics
            </div>
        </div>

        <div class="right-container">
            <div class="artifacts">
                <div class="tabs">
                    <div class="tab active" onclick="openTab('search')">Search Artifact</div>
                    <div class="tab" onclick="openTab('add')">Add Artifact</div>
                    <div class="tab" onclick="openTab('upload')">Upload Media</div>
                    <div class="tab" onclick="openTab('edit')">Edit Media</div>
                </div>
            
                <div id="search" class="tab-content active">
                    <div class="search-container">
                        <input type="text" class="search-input" placeholder="Search artifact...">
                        <button class="search-button">Search</button>
                    </div>
                </div>

                <div id="add" class="tab-content">
                    <div class="form-container">
                        <form action="" method="post"> <!--add database .php, action="-here-" "/include/addArtifact.php"-->
                            <div class="form-group">
                                <label for="artifact-name">Artifact Name:</label>
                                <input type="text" id="artifact-name" name="artifact-name" required>
                            </div>

                            <div class="form-group">
                                <label for="section">Section:</label>
                                <select id="section" name="section" required>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="catalog">Catalog:</label>
                                <select id="catalog" name="catalog" required>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="sub-catalog">Sub Catalog:</label>
                                <select id="sub-catalog" name="sub-catalog" required>
                                </select>
                            </div>

                            <div class="button-container">
                                <button type="button" class="btn">Add New Section</button>
                                <button type="button" class="btn">Add New Catalog</button>
                                <button type="button" class="btn">Add New Sub Catalog</button>
                            </div>

                            <div class="form-group">
                                <label for="description">Description:</label>
                                <textarea id="description" name="description" required></textarea>
                            </div>

                            <div class="form-group">
                                <label for="condition">Condition:</label>
                                <textarea id="condition" name="condition" required></textarea>
                            </div>

                            <div class="form-group">
                                <label for="script">Virtual Avatar Script:</label>
                                <textarea id="script" name="script" required></textarea>
                            </div>

                            <div class="form-group">
                                <label for="media-upload">Upload Media:</label>
                                <input type="file" id="media-upload" name="media-upload" accept="image/*,video/*">
                            </div>

                            <button type="submit">Add Artifact</button>
                        </form>
                    </div>
                </div>

                <div id="upload" class="tab-content">
                    <div class="upload-container">
                        <form action="" method="post"> <!--add database .php, action="-here-" "/include/addArtifact.php"-->
                            <div class="form-group">
                                <label for="media-upload">Upload Media:</label>
                                <input type="file" id="media-upload" name="media-upload" accept="image/*,video/*">
                            </div>

                            <div class="form-group">
                                <label for="vid-title">Video Title:</label>
                                <input type="text" id="vid-title" name="vid-title" required>
                            </div>

                            <div class="form-group">
                                <label for="vid-description">Video Description:</label>
                                <textarea id="vid-description" name="vid-description" required></textarea>
                            </div>

                            <button type="submit" class="btn">Add New Video</button>
                        </form>
                    </div>
                </div>

                <div id="edit" class="tab-content">
                    <div class="edit-container">
                        <form action="" method="post"> <!--add database .php, action="-here-" "/include/addArtifact.php"-->
                            <div class="form-group">
                                <label for="vid-select">Select Video:</label>
                                <select id="vid-select" name="vid-select" required>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="edit-vidtit">Edit Video Title:</label>
                                <input type="text" id="edit-vidtit" name="edit-vidtit" required>
                            </div>

                            <div class="form-group">
                                <label for="edit-videsc">Edit Video Description:</label>
                                <textarea id="edit-videsc" name="edit-videsc" required></textarea>
                            </div>

                            <div class="button-container">
                                <button type="submit" class="btn">Make Changes</button>
                                <button type="button" class="del-btn">Delete Video</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Function to fetch artifact options
        function fetchArtifactOptions() {
            fetch('include/get.php')
                .then(response => response.json())
                .then(data => {
                    // Populate the section select
                    let sectionSelect = document.getElementById('section');
                    sectionSelect.innerHTML = '<option value="create_section">Create Section</option>';
                    data.sections.forEach(section => {
                        let option = document.createElement('option');
                        option.value = section.section_id;
                        option.textContent = section.section_name;
                        sectionSelect.appendChild(option);
                    });

                    // Populate the catalogue select
                    let catalogueSelect = document.getElementById('catalog');
                    catalogueSelect.innerHTML = '<option value="create_catalog">Create Catalog</option>';
                    data.catalogues.forEach(catalogue => {
                        let option = document.createElement('option');
                        option.value = catalogue.catalogue_id;
                        option.textContent = catalogue.catalogue_name;
                        catalogueSelect.appendChild(option);
                    });

                    // Populate the subcatalogue select
                    let subcatalogueSelect = document.getElementById('sub-catalog');
                    subcatalogueSelect.innerHTML = '<option value="create_subcatalog">Create Sub Catalog</option>';
                    data.subcatalogues.forEach(subcatalogue => {
                        let option = document.createElement('option');
                        option.value = subcatalogue.subcat_id;
                        option.textContent = subcatalogue.subcat_name;
                        subcatalogueSelect.appendChild(option);
                    });
                })
                .catch(error => console.error('Error fetching options:', error));
        }
        document.addEventListener("DOMContentLoaded", fetchArtifactOptions);
    </script>
</body>
</html>